<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>facedetector.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
#include &lt;opencv2/opencv.hpp&gt;
#include &lt;iostream&gt;
#include &lt;shlwapi.h&gt;
#include "facedetector.h"
#include "common.h"

// RXgN^
FaceDetector::FaceDetector()
{
	//std::cout &lt;&lt; "FaceDetectorIuWFNg¶¬" &lt;&lt; std::endl;
	this-&gt;cascade_filepath = "";
	this-&gt;face_detect_width = 0;
	this-&gt;face_detect_height = 0;
}

// fXgN^
FaceDetector::~FaceDetector()
<span style = "background-color:#fdd">{</span>
	//std::cout &lt;&lt; "FaceDetectorIuWFNgjü" &lt;&lt; std::endl;
<span style = "background-color:#fdd">}</span>

// ú»Ö
int FaceDetector::initialize(const Params &amp;params)
{
	bool bret = false;
	if (!PathFileExists(params.cascade_filepath.c_str())) // pXÌêÉt@Cª¶ÝµÈ¢êÉ¸s
	{
		return -1;
	}
	if (PathIsDirectory(params.cascade_filepath.c_str())) // t@CÅÍÈ­fBNgÌêÉ¸s
	{
		return -2;
	}
	this-&gt;cascade_filepath = params.cascade_filepath;

	// ³ÊçîñªüÁÄ¢éJXP[hªÞíð[h
	bret = this-&gt;cascade.load(this-&gt;cascade_filepath);

	if (!bret) // JXP[hªÞíð[hÅ«È¢êÉ¸s
	{
		return -3;
	}

	this-&gt;face_detect_width = params.face_detect_width;
	this-&gt;face_detect_height = params.face_detect_height;

	return 0;
}

// t[©çço·éÖ
int FaceDetector::detect_face(cv::Mat &amp;img, std::vector&lt;cv::Rect&gt; &amp;faces)
{
	// çoÌîñðNA
	faces.clear();

	// i[³ê½t[ÉÎµÄJXP[ht@CÉîÃ¢Äçðm
	this-&gt;cascade.detectMultiScale(img, faces, 1.1, 3, 0, cv::Size(this-&gt;face_detect_width, this-&gt;face_detect_height));

	return 0;
}</pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>